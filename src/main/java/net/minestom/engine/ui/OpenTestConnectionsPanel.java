package net.minestom.engine.ui;

import imgui.ImGui;
import net.minestom.engine.Editor;
import net.minestom.server.MinecraftServer;

public class OpenTestConnectionsPanel implements UI.Element {
    private final Editor editor;

    public OpenTestConnectionsPanel(Editor editor) {
        this.editor = editor;
    }

    @Override
    public void render() {
        if (editor.getMode() != Editor.Mode.TEST_OPEN) return;

        ImGui.begin("Connected Players");

        ImGui.columns(2);
        for (var p : MinecraftServer.getConnectionManager().getOnlinePlayers()) {
            ImGui.text(p.getUsername());
            ImGui.nextColumn();
            ImGui.text(p.getPlayerConnection().getRemoteAddress().toString());
            ImGui.nextColumn();
        }

        ImGui.end();
    }
}